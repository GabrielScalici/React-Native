{"version":3,"sources":["detach/StandaloneContext.js"],"names":["StandaloneContext","createUserContext","projectPath","exp","publishedUrl","let","context","type","data","config","published","url","releaseChannel","build","configuration","android","createServiceContext","expoSourcePath","archivePath","manifest","privateConfig","buildConfiguration","androidBuildConfiguration"],"mappings":";;;;;;;AAwBA,MAAMA,iBAAN,CAAwB;;AAAlBA,iB,CAaGC,iB,GAAoB,CACzBC,WADyB,EAEzBC,GAFyB,EAGzBC,YAHyB,KAIH;AACtBC,MAAIC,UAAU,IAAIN,iBAAJ,EAAdK;AACAC,UAAQC,IAARD,GAAe,MAAfA;AACAA,UAAQE,IAARF,GAAe;AACbJ,eADa;AAEbC;AAFa,GAAfG;AAIAA,UAAQG,MAARH,GAAiBH,GAAjBG;AACAA,UAAQI,SAARJ,GAAoB;AAClBK,SAAKP,YADa;AAElBQ,oBAAgB;AAFE,GAApBN;AAIA;AACAA,UAAQO,KAARP,GAAgB;AACdQ,mBAAe,OADD;AAEdC,aAAS;AAFK,GAAhBT;AAIA,SAAOA,OAAP;AACD,C;;AAnCGN,iB,CAqCGgB,oB,GAAuB,CAC5BC,cAD4B,EAE5BC,WAF4B,EAG5BC,QAH4B,EAI5BC,aAJ4B,EAK5BC,kBAL4B,EAM5BjB,YAN4B,EAO5BQ,cAP4B,EAQ5BU,yBAR4B,KASN;AACtBjB,MAAIC,UAAU,IAAIN,iBAAJ,EAAdK;AACAC,UAAQC,IAARD,GAAe,SAAfA;AACAA,UAAQE,IAARF,GAAe;AACbW,kBADa;AAEbC,eAFa;AAGbC,YAHa;AAIbC;AAJa,GAAfd;AAMAA,UAAQG,MAARH,GAAiBa,QAAjBb;AACAA,UAAQO,KAARP,GAAgB;AACdQ,mBAAeO,kBADD;AAEdN,aAASO;AAFK,GAAhBhB;AAIAA,UAAQI,SAARJ,GAAoB;AAClBK,SAAKP,YADa;AAElBQ,oBAAgBA,iBAAiBA,cAAjBA,GAAkC;AAFhC,GAApBN;AAIA,SAAOA,OAAP;AACD,C;;kBAGYN,iB","file":"../../detach/StandaloneContext.js","sourcesContent":["/**\n * @flow\n */\n\ntype StandaloneContextDataType = 'user' | 'service';\ntype StandaloneContextBuildConfiguration = 'Debug' | 'Release';\ntype StandaloneContextAndroidBuildConfiguration = {\n  keystore: string,\n  keystorePassword: string,\n  keyAlias: string,\n  keyPassword: string,\n  outputFile: ?string,\n};\ntype StandaloneContextDataUser = {\n  projectPath: string,\n  exp: any,\n};\ntype StandaloneContextDataService = {\n  expoSourcePath: string,\n  archivePath: ?string,\n  manifest: any,\n  privateConfig: ?any,\n};\n\nclass StandaloneContext {\n  type: StandaloneContextDataType;\n  data: StandaloneContextDataUser | StandaloneContextDataService;\n  config: any; // same as underlying app.json or manifest\n  published: {\n    url: ?string,\n    releaseChannel: string,\n  };\n  build: {\n    configuration: StandaloneContextBuildConfiguration,\n    android: ?StandaloneContextAndroidBuildConfiguration,\n  };\n\n  static createUserContext = (\n    projectPath: string,\n    exp: any,\n    publishedUrl: ?string\n  ): StandaloneContext => {\n    let context = new StandaloneContext();\n    context.type = 'user';\n    context.data = {\n      projectPath,\n      exp,\n    };\n    context.config = exp;\n    context.published = {\n      url: publishedUrl,\n      releaseChannel: 'default',\n    };\n    // we never expect user contexts to be pre-built right now\n    context.build = {\n      configuration: 'Debug',\n      android: null,\n    };\n    return context;\n  };\n\n  static createServiceContext = (\n    expoSourcePath: string,\n    archivePath: ?string,\n    manifest: any,\n    privateConfig: ?any,\n    buildConfiguration: StandaloneContextBuildConfiguration,\n    publishedUrl: ?string,\n    releaseChannel: ?string,\n    androidBuildConfiguration: ?StandaloneContextAndroidBuildConfiguration\n  ): StandaloneContext => {\n    let context = new StandaloneContext();\n    context.type = 'service';\n    context.data = {\n      expoSourcePath,\n      archivePath,\n      manifest,\n      privateConfig,\n    };\n    context.config = manifest;\n    context.build = {\n      configuration: buildConfiguration,\n      android: androidBuildConfiguration,\n    };\n    context.published = {\n      url: publishedUrl,\n      releaseChannel: releaseChannel ? releaseChannel : 'default',\n    };\n    return context;\n  };\n}\n\nexport default StandaloneContext;\n"],"sourceRoot":"/xdl/src"}